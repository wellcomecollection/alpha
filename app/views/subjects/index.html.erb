<% content_for :title, "Subjects" %>

<h1>Subjects</h1>

<%= form_tag subjects_lookup_index_path, method: :get, enforce_utf8: false do %>
  <%= search_field_tag :label, '', autocomplete: 'off', class: 'subjects-search' %>
  <%= content_tag 'button', "lookup" %>
<% end %>

<ol start="<%= @from + 1 %>">
  <% @top_subjects.each do |subject| %>
    <li><%= link_to subject.label, subject %> â€“ <%= pluralize_with_delimiter(subject.records_count, 'thing') %></li>
  <% end %>
</ol>

<!-- Pagination -->

<div class="row pagination">
  <div class="four columns">&nbsp;</div>
  <div class="four columns center">
    <% unless @from == 0 %>
      <%= link_to "Previous", subjects_path(from: @from - @per_page), class: 'button' %>
    <% end %>
    <%= link_to "Next", subjects_path(from: @from + @per_page), class: 'button' %>
    <br />
    <small><%= number_with_delimiter(@total_subjects_count) %> subjects &bull; Page <%= (@from.to_i / @per_page).round + 1 %> of <%= number_with_delimiter((@total_subjects_count.to_f / @per_page).floor) %></small>
  </div>
  <div class="four columns">&nbsp;</div>
</div>
